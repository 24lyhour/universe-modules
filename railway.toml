# Railway deployment configuration
# Documentation: https://docs.railway.app/reference/config-as-code

[build]
# Use Dockerfile for building
dockerfilePath = "Dockerfile"
# Clone git submodules (Modules directory)
gitSubmodules = true

[deploy]
# Number of replicas
numReplicas = 1

# Health check
healthcheckPath = "/api/health"
healthcheckTimeout = 300

# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# Environment
[env]
# Port
PORT = "8080"

# App settings
APP_ENV = "production"
APP_DEBUG = "false"
LOG_CHANNEL = "stack"
LOG_LEVEL = "error"

# Session & Cache
SESSION_DRIVER = "database"
CACHE_STORE = "database"
QUEUE_CONNECTION = "database"

# Filesystem
FILESYSTEM_DISK = "public"

# Performance
BCRYPT_ROUNDS = "12"
